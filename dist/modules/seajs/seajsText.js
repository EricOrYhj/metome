!function(){function e(e){i[e.name]=e}function n(e){return e&&i.hasOwnProperty(e)}function r(e){for(var r in i)if(n(r)){var t=","+i[r].ext.join(",")+",";if(t.indexOf(","+e+",")>-1)return r}}function t(e,n){var r=s.ActiveXObject?new s.ActiveXObject("Microsoft.XMLHTTP"):new s.XMLHttpRequest;return r.open("GET",e,!0),r.onreadystatechange=function(){if(4===r.readyState){if(r.status>399&&r.status<600)throw new Error("Could not load: "+e+", status = "+r.status);n(r.responseText)}},r.send(null)}function a(e){e&&/\S/.test(e)&&(s.execScript||function(e){(s.eval||eval).call(s,e)})(e)}function o(e){return e.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")}var s=window,i={},u={};e({name:"text",ext:[".tpl",".htm",".html"],exec:function(e,n){a('define("'+e+'#", [], "'+o(n)+'")')}}),e({name:"json",ext:[".json"],exec:function(e,n){a('define("'+e+'#", [], '+n+")")}}),e({name:"handlebars",ext:[".handlebars"],exec:function(e,n){var r=['define("'+e+'#", ["handlebars"], function(require, exports, module) {','  var source = "'+o(n)+'"','  var Handlebars = require("handlebars")["default"]',"  module.exports = function(data, options) {","    options || (options = {})","    options.helpers || (options.helpers = {})","    for (var key in Handlebars.helpers) {","      options.helpers[key] = options.helpers[key] || Handlebars.helpers[key]","    }","    return Handlebars.compile(source)(data, options)","  }","})"].join("\n");a(r)}}),seajs.on("resolve",function(e){var t=e.id;if(!t)return"";var a,o;(o=t.match(/^(\w+)!(.+)$/))&&n(o[1])?(a=o[1],t=o[2]):(o=t.match(/[^?]+(\.\w+)(?:\?|#|$)/))&&(a=r(o[1])),a&&t.indexOf("#")===-1&&(t+="#");var s=seajs.resolve(t,e.refUri);a&&(u[s]=a),e.uri=s}),seajs.on("request",function(e){var n=u[e.uri];n&&(t(e.requestUri,function(r){i[n].exec(e.uri,r),e.onRequest()}),e.requested=!0)})}();