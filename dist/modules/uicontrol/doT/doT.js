define(function(require,exports,module){return function(){function e(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(t,function(t){return e[t]||t}):this}}function t(e,n,r){return("string"==typeof n?n:n.toString()).replace(e.define||i,function(t,n,a,o){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in r||(":"===a?(e.defineParams&&o.replace(e.defineParams,function(e,t,a){r[n]={arg:t,text:a}}),n in r||(r[n]=o)):new Function("def","def['"+n+"']="+o)(r)),""}).replace(e.use||i,function(n,a){e.useParams&&(a=a.replace(e.useParams,function(e,t,n,a){if(r[n]&&r[n].arg&&a){var o=(n+":"+a).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[o]=r[n].text.replace(new RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+a+"$2"),t+"def.__exp['"+o+"']"}}));var o=new Function("def","return "+a)(r);return o?t(e,o,r):o})}function n(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var r,a={version:"1.0.1",templateSettings:{evaluate:/(?:\{\{|<\%)([\s\S]+?\}?)(?:\}\}|\%\>)/g,interpolate:/(?:\{\{|<\%)=([\s\S]+?)(?:\}\}|\%\>)/g,encode:/(?:\{\{|<\%)!([\s\S]+?)(?:\}\}|\%\>)/g,use:/(?:\{\{|<\%)#([\s\S]+?)(?:\}\}|\%\>)/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/(?:\{\{|<\%)##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#(?:\}\}|\%\>)/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/(?:\{\{|<\%)\?(\?)?\s*([\s\S]*?)\s*(?:\}\}|\%\>)/g,iterate:/(?:\{\{|<\%)~\s*(?:(?:\}\}|\%\>)|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*(?:\}\}|\%\>))/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0};"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):(r=function(){return this||(0,eval)("this")}(),r.doT=a),String.prototype.encodeHTML=e();var o={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},i=/$^/;a.template=function(r,u,c){u=u||a.templateSettings;var s,p,l=u.append?o.append:o.split,f=0,d=u.use||u.define?t(u,r,c||{}):r;d=("var out='"+(u.strip?d.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):d).replace(/'|\\/g,"\\$&").replace(u.interpolate||i,function(e,t){return l.start+n(t)+l.end}).replace(u.encode||i,function(e,t){return s=!0,l.start+n(t)+l.endencode}).replace(u.conditional||i,function(e,t,r){return t?r?"';}else if("+n(r)+"){out+='":"';}else{out+='":r?"';if("+n(r)+"){out+='":"';}out+='"}).replace(u.iterate||i,function(e,t,r,a){return t?(f+=1,p=a||"i"+f,t=n(t),"';var arr"+f+"="+t+";if(arr"+f+"){var "+r+","+p+"=-1,l"+f+"=arr"+f+".length-1;while("+p+"<l"+f+"){"+r+"=arr"+f+"["+p+"+=1];out+='"):"';} } out+='"}).replace(u.evaluate||i,function(e,t){return"';"+n(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+="),s&&u.selfcontained&&(d="String.prototype.encodeHTML=("+e.toString()+"());"+d);try{return new Function(u.varname,d)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+d),e}},a.compile=function(e,t){return a.template(e,null,t)}}()});